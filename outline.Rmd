---
title: "rough outline"
output: slidy_presentation
date: '2022-04-25'
---

# Introduction 
* Air pollution can be detrimental to both our health and the climate
  + Pollutants of major public health concern include carbon monoxide, ozone, nitrogen oxide, and sulfur oxide
  + Outdoor and indoor air pollution cause respiratory and other diseases. 
  + Air pollution kills about 7 million people worldwide every year 

* We want to look at death rates of air pollution world wide

* Why?
  + Hopefully this information can showcase the importance of air pollution and that we should be more mindful about our planet
  
* Overview
  + We will see how different air pollution types affect the population 
  + See if countries have implemented better techniques to reduce air pollution

# Packages Required 

```{r, include=FALSE}
#This will allow us to filter through our data 
library(tidyverse)
library(dplyr)
#This will help us plot figures to showcase our findings
library(ggplot2)
#This will help us organize and display our data as necessary 
library(knitr)
library(kableExtra)
#This expands our plot uses 
library(plotly)
```

# Data Preparation 
The data we will be looking at: 

1. **Deaths due to Air Pollution**
[https://www.kaggle.com/datasets/akshat0giri/death-due-to-air-pollution-19902017]

* Author: Akshat Giri
* This data consists the deaths due to air pollution from 1990-2017 around the world
* The dataset was recently updated 2 years ago
* The author wanted to gain more awareness about air pollution and forecast the future 

2. **World Population(pending)**

First let's import the Deaths by Air Pollution data.
```{r}
deaths_df <- data.frame(read.csv("death-rates-from-air-pollution.csv"))
```

We are going to rename a few of the columns and view the first 6 rows of the data
```{r}
colnames(deaths_df) <- c("country", "acronym", "year", "total_deaths", "indoor_deaths", "outdoor_deaths", "ozone_deaths")

head(deaths_df)
```

Variables that interest us here include:
* country
* total_deaths
* indoor_deaths
* outdoor_deaths
* ozone_deaths 

Now, we are going to import the World Population data 
```{r}
world_pop <- read.csv("population_total_long.csv")
```

Let's view the first 6 rows of the data
This dataset covers more than we need, and so we can trim it to the years we need.
```{r}
world_pop2 <- world_pop %>% filter(Year >= 1990 & Year <= 2017)
glimpse(world_pop2)

```
After selecting our desired years, we've cut the population data set nearly in half.

To get a general idea of the data, let's make some plots to see what's happening.

```{r}
p <- ggplot(deaths_df, aes(x = indoor_deaths, y = outdoor_deaths, text = paste0(country, ", ", year) )) + geom_point()
ggplotly(p)
```

This is a mess, and so we chose two countries from each continent (a high-population and a low-population country) to graph.

```{r}
#Mean total deaths from 1990-2017 of high-population countries
deaths_highpop_countries <- deaths_df %>% 
  filter(country %in% c('United States', 'Brazil', 'Ethiopia', 'Russia', 'China', 'Australia')) %>% 
  group_by(country) %>% 
  select(total_deaths) %>% 
  summarize(average_death_high = mean(total_deaths))

#deaths_highpop_countries


#Mean total deaths from 1990-2017 of high-population countries
deaths_lowpop_countries<- deaths_df %>% 
  filter(country %in% c('Canada', 'Argentina', 'Seychelles', 'Romania', 'Israel', 'Tonga')) %>% 
  group_by(country) %>% 
  select(total_deaths) %>% 
  summarize(average_death_low = mean(total_deaths))

#death_lowpop_countries
kable(list(deaths_highpop_countries, deaths_lowpop_countries))
kable(deaths_highpop_countries) %>% 
  kable_styling(full_width = FALSE, position = 'float_left')
kable(deaths_lowpop_countries) %>% 
  kable_styling(full_width = FALSE, position = 'left')

ggplot(deaths_highpop_countries)+
  geom_col(mapping = aes(x=country, y=average_death_high))+
             xlab("Country")+
             ylab("Average deaths (per 100,000)")+
             ggtitle("Average total deaths in high-population countries")+
  coord_flip()

ggplot(deaths_lowpop_countries)+
  geom_col(mapping = aes(x=country, y=average_death_low))+
             xlab("Country")+
             ylab("Average deaths (per 100,000)")+
             ggtitle("Average total deaths in low-population countries")+
  coord_flip()

```
This shows us the deaths due to pollution, but what about the average population of those countries at that time? 

```{r}
hp_countries_population <- world_pop2 %>% 
  filter(Country.Name %in% c('United States', 'Brazil', 'Ethiopia', 'Russia', 'China', 'Australia')) %>% 
  group_by(Country.Name) %>% 
  select(Count) %>% 
  summarize(average_population = mean(Count))

#hp_countries_population

lp_countries_population <- world_pop2 %>% 
  filter(Country.Name %in% c('Canada', 'Argentina', 'Seychelles', 'Romania', 'Israel', 'Tonga')) %>% 
  group_by(Country.Name) %>% 
  select(Count) %>% 
  summarize(average_population = mean(Count))

#lp_countries_population

kable(list(hp_countries_population, lp_countries_population))
kable(hp_countries_population) %>% 
  kable_styling(full_width = FALSE, position = 'float_left')
kable(lp_countries_population) %>% 
  kable_styling(full_width = FALSE, position = 'left')

```




# Exploratory Data Analysis 

# Summary 